{"remainingRequest":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\src\\views\\input_pelanggaran.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\src\\views\\input_pelanggaran.vue","mtime":1616582291405},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCm1vZHVsZS5leHBvcnRzID0gewogICAgZGF0YSA6IGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICBzZWFyY2g6ICIiLAogICAgICAgIGlkX3BlbmdhZHVhbjogIiIsCiAgICAgICAgaXNpX2xhcG9yYW46ICIiLAogICAgICAgIHRnbF9wZW5nYWR1YW46ICIiLAogICAgICAgIGlkX2thdGVnb3JpOiAiIiwKICAgICAgICBzdGF0dXM6ICIiLAogICAgICAgIHRhbmdnYXBhbjogIiIsCiAgICAgICAgYWN0aW9uOiAiIiwKICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgICByb3dzOiAwLAogICAgICAgIHBlclBhZ2U6IDEwLAogICAgICAgIHRva2VuOiAiIiwKICAgICAgICBwZW5nYWR1YW46IFtdLAogICAgICAgIGthdGVnb3JpOiBbXSwKICAgICAgICBmaWVsZHM6IFsiaWRfcGVuZ2FkdWFuIiwgIkFrc2kiLCAidGdsX3BlbmdhZHVhbiIsICJpc2lfbGFwb3JhbiIsICJrYXRlZ29yaSIsICJzdGF0dXMiXSwKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRhIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogJ0JlYXJlciAnICsgdGhpcy50b2tlbiB9IH07CiAgICAgICAgICAgIGxldCBvZmZzZXQgPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlOwogICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiTW9ob24gdHVuZ2d1Li4uIjsKICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoIi9wZW5nYWR1YW4vIiArIHRoaXMucGVyUGFnZSArICIvIiArIG9mZnNldCwgY29uZikKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZ2FkdWFuID0gcmVzcG9uc2UuZGF0YS5kYXRhLnBlbmdhZHVhbjsKICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLmRhdGEuY291bnQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJHYWdhbCBtZW5hbXBpbGthbiBkYXRhIHBlbmdhZHVhbi4iCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJsb2dpbiJ9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIHBhZ2luYXRpb24gOiBmdW5jdGlvbigpewogICAgICAgICAgICBpZih0aGlzLnNlYXJjaCA9PSAiIil7CiAgICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBnZXRLYXRlZ29yaURyb3Bkb3duOiBmdW5jdGlvbigpewogICAgICAgICAgICAvL2FtYmlsIGRhdGEga2F0ZWdvcmkgdW50dWsgZHJvcGRvd24KICAgICAgICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogJ0JlYXJlciAnICsgdGhpcy50b2tlbiB9IH07CiAgICAgICAgICAgIHRoaXMuYXhpb3MuZ2V0KCIva2F0ZWdvcmkiLCBjb25mKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgbGlzdF9rYXRlZ29yaSA9IFtdCiAgICAgICAgICAgICAgICBsZXQganNvbl9rYXRlZ29yaSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5rYXRlZ29yaQogICAgICAgICAgICAgICAganNvbl9rYXRlZ29yaS5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgICAgICAgICAgIGxpc3Rfa2F0ZWdvcmkucHVzaCh7dmFsdWU6IGVsZW1lbnQuaWRfa2F0ZWdvcmksIHRleHQ6IGVsZW1lbnQubmFtYV9rYXRlZ29yaX0pCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMua2F0ZWdvcmkgPSBsaXN0X2thdGVnb3JpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgQWRkIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSAiaW5zZXJ0IjsKICAgICAgICAgICAgdGhpcy50YW5nZ2FwYW4gPSAiIjsKICAgICAgICAgICAgdGhpcy5nZXRLYXRlZ29yaURyb3Bkb3duKCk7CiAgICAgICAgfSwKCiAgICAgICAgTGloYXQgOiBmdW5jdGlvbihpZCl7CiAgICAgICAgICAgIHRoaXMuZ2V0S2F0ZWdvcmlEcm9wZG93bigpCgogICAgICAgICAgICBsZXQgY29uZiA9IHsgaGVhZGVyczogeyAiQXV0aG9yaXphdGlvbiIgOiAnQmVhcmVyICcgKyB0aGlzLnRva2VuICwgJ2NvbnRlbnQtdHlwZSc6J211bHRpcGFydC9mb3JtLWRhdGEnfSB9OwogICAgICAgICAgICB0aGlzLmF4aW9zLmdldCgiL3BlbmdhZHVhbi8iICsgaWQsIGNvbmYpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEuc3VjY2VzcyA9PSB0cnVlKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbiA9ICJ1cGRhdGUiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaWRfa2F0ZWdvcmkgPSByZXNwb25zZS5kYXRhLmRhdGEucGVuZ2FkdWFuWzBdLmlkX2thdGVnb3JpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNpX2xhcG9yYW4gPSByZXNwb25zZS5kYXRhLmRhdGEucGVuZ2FkdWFuWzBdLmlzaV9sYXBvcmFuOwogICAgICAgICAgICAgICAgICAgIHRoaXMudGdsX3BlbmdhZHVhbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW5bMF0udGdsX3BlbmdhZHVhbjsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW5bMF0uc3RhdHVzOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiR2FnYWwgbWVuYW1waWxrYW4gZGF0YSBwZW5nYWR1YW4uIgogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAicGVuZ2FkdWFuIn0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICB9LAoKICAgICAgICBTYXZlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogJ0JlYXJlciAnICsgdGhpcy50b2tlbiAsICdjb250ZW50LXR5cGUnOidtdWx0aXBhcnQvZm9ybS1kYXRhJ30gfTsKICAgICAgICAgICAgaWYodGhpcy5hY3Rpb24gPT09ICJpbnNlcnQiKXsKICAgICAgICAgICAgICAgIGxldCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgiaWRfcGVuZ2FkdWFuIiwgdGhpcy5pZF9wZW5nYWR1YW4pOwogICAgICAgICAgICAgICAgZm9ybS5hcHBlbmQoImlzaV9sYXBvcmFuIiwgdGhpcy5pc2lfbGFwb3Jhbik7CgogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5wb3N0KCIvcGVuZ2FkdWFuIiwgZm9ybSwgY29uZikKICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiTW9ob24gdHVuZ2d1Li4uIjsKICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNlYXJjaCA9PSAiIil7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgZm9ybSA9IHsKICAgICAgICAgICAgICAgICAgICBpc2lfbGFwb3JhbTogdGhpcy5pc2lfbGFwb3JhbSwKICAgICAgICAgICAgICAgICAgICB0Z2xfcGVuZ2FkdWFuOiB0aGlzLnRnbF9wZW5nYWR1YW4sCiAgICAgICAgICAgICAgICAgICAgaWRfa2F0ZWdvcmk6IHRoaXMuaWRfa2F0ZWdvcmksCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmF4aW9zLnB1dCgiL3BlbmdhZHVhbi8iICsgdGhpcy5pZF9wZW5nYWR1YW4sIGZvcm0sIGNvbmYpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIk1vaG9uIHR1bmdndS4uLiI7CiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zZWFyY2ggPT0gIiIpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaGluZygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgRHJvcCA6IGZ1bmN0aW9uKGlkKXsKICAgICAgICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogIkJlYXJlciAiICsgdGhpcy50b2tlbn0gfTsKICAgICAgICAgICAgaWYoY29uZmlybSgnQXBha2FoIGFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIGRhdGEgaW5pPycpKXsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICJNb2hvbiB0dW5nZ3UuLi4iOwogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5kZWxldGUoIi9wZW5nYWR1YW4vIiArIGlkLCBjb25mKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICIiOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkF1dGhvcml6YXRpb24iKTsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0KfQo="},{"version":3,"sources":["input_pelanggaran.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"input_pelanggaran.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <div class=\"card\">\r\n                    <h3 class=\"card-header d-flex justify-content-between align-items-center\">\r\n                        Data Pengaduan\r\n                    </h3>\r\n\r\n                    <!-- Light table -->\r\n                    <div class=\"table-responsive\">\r\n                        <b-table striped hover :items=\"pengaduan\" :fields=\"fields\" class=\"table align-items-center table-flush\">\r\n                            <template v-slot:cell(kategori)=\"data\">\r\n                                <b-badge variant=\"warning\">{{ data.item.kategori.nama_kategori }}</b-badge>\r\n                            </template>\r\n                            <template v-slot:cell(status)=\"data\">\r\n                                <b-badge variant=\"info\" v-if=\"data.item.status === 'terkirim'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"warning\" v-if=\"data.item.status === 'proses'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"success\" v-if=\"data.item.status === 'selesai'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"danger\" v-if=\"data.item.status === 'tolak'\">{{ data.item.status }}</b-badge>\r\n                            </template>\r\n                            <template v-slot:cell(Aksi)=\"data\">\r\n                                <b-button size=\"sm\" v-on:click=\"Lihat(data.item.id_pengaduan)\" v-b-modal.modallihat class=\"btn btn-outline-info\">Lihat</b-button>&nbsp;\r\n                                <b-button size=\"sm\" v-if=\"data.item.status === 'terkirim'\" v-on:click=\"Add(data.item.id_pengaduan)\" class=\"btn btn-outline-danger\">Tanggapan</b-button>\r\n                            </template>\r\n                        </b-table>\r\n\r\n                        <div class=\"text-center my-3\">\r\n                            <small class=\"text-red\">{{ message }}</small>\r\n                        </div>\r\n\r\n                        <b-pagination\r\n                        v-model=\"currentPage\"\r\n                        :per-page=\"perPage\"\r\n                        :total-rows=\"rows\"\r\n                        align=\"center\"\r\n                        v-on:input=\"pagination\">\r\n                        </b-pagination>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <b-modal \r\n        id=\"modalpengaduan\"\r\n        size=\"lg\"\r\n        @ok=\"Save\">\r\n            <template v-slot:modal-title>\r\n            Form Data Tanggapan\r\n            </template>\r\n            <form ref=\"form\" enctype=\"multipart/form-data\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"id_pengaduan\" class=\"form-control-label\">Id Pengaduan</label>\r\n                    <input type=\"text\" v-model=\"id_pengaduan\" name=\"id_pengaduan\" class=\"form-control\" id=\"id_pengaduan\" placeholder=\"Id Pengaduan\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"tanggapan\" class=\"form-control-label\">Tanggapan</label>\r\n                    <input type=\"text\" v-model=\"tanggapan\" name=\"tanggapan\" class=\"form-control\" id=\"tanggapan\" placeholder=\"Tanggapan\">\r\n                </div>\r\n            </form>\r\n        </b-modal>\r\n\r\n         <b-modal \r\n        id=\"modallihat\"\r\n        size=\"lg\"\r\n        hide-footer>\r\n            <template v-slot:modal-title>\r\n                Detail Pengaduan \r\n                <b-badge variant=\"info\" v-if=\"status === 'terkirim'\">{{ status }}</b-badge>\r\n                <b-badge variant=\"warning\" v-if=\"status === 'proses'\">{{ status }}</b-badge>\r\n                <b-badge variant=\"success\" v-if=\"status === 'selesai'\">{{ status }}</b-badge>\r\n                <b-badge variant=\"danger\" v-if=\"status === 'tolak'\">{{ status }}</b-badge>\r\n            </template>\r\n            <form ref=\"form\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"tgl_pengaduan_detail\" class=\"form-control-label\">Tanggal Pengaduan</label>\r\n                    <input type=\"date\" readonly v-model=\"tgl_pengaduan\" name=\"tgl_pengaduan\" class=\"form-control\" id=\"tgl_pengaduan_detail\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"isi_laporan_detail\" class=\"form-control-label\">Isi Laporan</label>\r\n                    <textarea readonly v-model=\"isi_laporan\" class=\"form-control\" id=\"isi_laporan_detail\"></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"id_kategori_detail\" class=\"col-form-label\">Kategori</label>\r\n                    <b-form-select disabled id=\"id_kategori_detail\" v-model=\"id_kategori\" :options=\"kategori\"></b-form-select>\r\n                </div>\r\n                \r\n            </form>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n<script>\r\n    module.exports = {\r\n        data : function(){\r\n            return {\r\n            search: \"\",\r\n            id_pengaduan: \"\",\r\n            isi_laporan: \"\",\r\n            tgl_pengaduan: \"\",\r\n            id_kategori: \"\",\r\n            status: \"\",\r\n            tanggapan: \"\",\r\n            action: \"\",\r\n            message: \"\",\r\n            currentPage: 1,\r\n            rows: 0,\r\n            perPage: 10,\r\n            token: \"\",\r\n            pengaduan: [],\r\n            kategori: [],\r\n            fields: [\"id_pengaduan\", \"Aksi\", \"tgl_pengaduan\", \"isi_laporan\", \"kategori\", \"status\"],\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getData : function(){\r\n                let conf = { headers: { \"Authorization\" : 'Bearer ' + this.token } };\r\n                let offset = (this.currentPage - 1) * this.perPage;\r\n                this.message = \"Mohon tunggu...\";\r\n                this.axios.get(\"/pengaduan/\" + this.perPage + \"/\" + offset, conf)\r\n                .then(response => {\r\n                    if(response.data.success == true){\r\n                        this.message = \"\";\r\n                        this.pengaduan = response.data.data.pengaduan;\r\n                        this.rows = response.data.data.count;\r\n                    } else {\r\n                        this.message = \"Gagal menampilkan data pengaduan.\"\r\n                        this.$router.push({name: \"login\"})\r\n                    }\r\n                    \r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n            },\r\n\r\n            pagination : function(){\r\n                if(this.search == \"\"){\r\n                    this.getData();\r\n                } else {\r\n                    this.searching();\r\n                }\r\n            },\r\n\r\n            getKategoriDropdown: function(){\r\n                //ambil data kategori untuk dropdown\r\n                let conf = { headers: { \"Authorization\" : 'Bearer ' + this.token } };\r\n                this.axios.get(\"/kategori\", conf)\r\n                .then(response => {\r\n                    let list_kategori = []\r\n                    let json_kategori = response.data.data.kategori\r\n                    json_kategori.forEach(element => {\r\n                        list_kategori.push({value: element.id_kategori, text: element.nama_kategori})\r\n                    });\r\n                    this.kategori = list_kategori\r\n                })\r\n            },\r\n\r\n            Add : function(){\r\n                this.action = \"insert\";\r\n                this.tanggapan = \"\";\r\n                this.getKategoriDropdown();\r\n            },\r\n\r\n            Lihat : function(id){\r\n                this.getKategoriDropdown()\r\n\r\n                let conf = { headers: { \"Authorization\" : 'Bearer ' + this.token , 'content-type':'multipart/form-data'} };\r\n                this.axios.get(\"/pengaduan/\" + id, conf)\r\n                .then(response => {\r\n                    if(response.data.success == true){\r\n                        this.action = \"update\";\r\n                        this.id_kategori = response.data.data.pengaduan[0].id_kategori;\r\n                        this.isi_laporan = response.data.data.pengaduan[0].isi_laporan;\r\n                        this.tgl_pengaduan = response.data.data.pengaduan[0].tgl_pengaduan;\r\n                        this.status = response.data.data.pengaduan[0].status;\r\n                    } else {\r\n                        this.message = \"Gagal menampilkan data pengaduan.\"\r\n                        this.$router.push({name: \"pengaduan\"})\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log(error);\r\n                });\r\n                \r\n            },\r\n\r\n            Save : function(){\r\n                let conf = { headers: { \"Authorization\" : 'Bearer ' + this.token , 'content-type':'multipart/form-data'} };\r\n                if(this.action === \"insert\"){\r\n                    let form = new FormData();\r\n                    form.append(\"id_pengaduan\", this.id_pengaduan);\r\n                    form.append(\"isi_laporan\", this.isi_laporan);\r\n\r\n                    this.axios.post(\"/pengaduan\", form, conf)\r\n                    .then(response => {\r\n                        this.message = \"Mohon tunggu...\";\r\n                        if(this.search == \"\"){\r\n                            this.getData();\r\n                        } else {\r\n                            this.searching();\r\n                        }\r\n                        this.message = \"\";\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n                } else {\r\n                    let form = {\r\n                        isi_laporam: this.isi_laporam,\r\n                        tgl_pengaduan: this.tgl_pengaduan,\r\n                        id_kategori: this.id_kategori,\r\n                    }\r\n                    this.axios.put(\"/pengaduan/\" + this.id_pengaduan, form, conf)\r\n                    .then(response => {\r\n                        this.message = \"Mohon tunggu...\";\r\n                        if(this.search == \"\"){\r\n                            this.getData();\r\n                        } else {\r\n                            this.searching();\r\n                        }\r\n                        this.message = \"\";\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n                }\r\n            },\r\n\r\n            Drop : function(id){\r\n                let conf = { headers: { \"Authorization\" : \"Bearer \" + this.token} };\r\n                if(confirm('Apakah anda yakin ingin menghapus data ini?')){\r\n                    this.message = \"Mohon tunggu...\";\r\n                    this.axios.delete(\"/pengaduan/\" + id, conf)\r\n                    .then(response => {\r\n                        this.getData();\r\n                        this.message = \"\";\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        mounted(){\r\n            this.token = localStorage.getItem(\"Authorization\");\r\n            this.getData();\r\n        }\r\n    }\r\n</script>\r\n"]}]}