{"remainingRequest":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\src\\views\\Pengaduan.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\src\\views\\Pengaduan.vue","mtime":1618905465670},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"c:\\xamppmy\\htdocs\\pengaduan_masyarakat_front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQptb2R1bGUuZXhwb3J0cyA9IHsNCiAgZGF0YTogZnVuY3Rpb24gKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWFyY2g6ICIiLA0KICAgICAgaWRfcGVuZ2FkdWFuOiAiIiwNCiAgICAgIGlkX3VzZXI6ICIiLA0KICAgICAgbmFtYTogIiIsDQogICAgICB0Z2xfcGVuZ2FkdWFuOiAiIiwNCiAgICAgIGlzaV9sYXBvcmFuOiAiIiwNCiAgICAgIGxva2FzaTogIiIsDQogICAgICBmb3RvOiAiIiwNCiAgICAgIHN0YXR1czogIiIsDQogICAgICB0YW5nZ2FwYW46ICIiLA0KICAgICAgaWRfa2F0ZWdvcmk6ICIiLA0KICAgICAgYWN0aW9uOiAiIiwNCiAgICAgIG1lc3NhZ2U6ICIiLA0KICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICByb3dzOiAwLA0KICAgICAgcGVyUGFnZTogMTAsDQogICAgICB0b2tlbjogIiIsDQogICAgICB1c2VyOiBbXSwNCiAgICAgIHBlbmdhZHVhbjogW10sDQogICAgICBrYXRlZ29yaTogW10sDQogICAgICBmaWVsZHM6IFsidGFuZ2dhbCIsICJpc2lfbGFwb3JhbiIsICJrYXRlZ29yaSIsICJzdGF0dXMiLCAibG9rYXNpIiwgImZvdG8iLCAidGFuZ2dhcGFuIl0sDQogICAgfTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0RGF0YTogZnVuY3Rpb24gKCkgew0KICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IA0KICAgICAgeyBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0aGlzLnRva2VuIH0gfTsNCiAgICAgIGxldCBvZmZzZXQgPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wZXJQYWdlOw0KICAgICAgdGhpcy4kYnZUb2FzdC5zaG93KCJsb2FkaW5nVG9hc3QiKTsNCiAgICAgIHRoaXMuYXhpb3MNCiAgICAgICAgLmdldCgiL21hc3lhcmFrYXQvcGVuZ2FkdWFuLyIgKyB0aGlzLnBlclBhZ2UgKyAiLyIgKyBvZmZzZXQsIGNvbmYpDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJGJ2VG9hc3QuaGlkZSgibG9hZGluZ1RvYXN0Iik7DQogICAgICAgICAgICB0aGlzLnBlbmdhZHVhbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW47DQogICAgICAgICAgICB0aGlzLnRhbmdnYXBhbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wZW5nYWR1YW4udGFuZ2dhcGFuOw0KICAgICAgICAgICAgdGhpcy5yb3dzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNvdW50Ow0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLiRidlRvYXN0LmhpZGUoImxvYWRpbmdUb2FzdCIpOw0KICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIkdhZ2FsIG1lbmFtcGlsa2FuIGRhdGEgUGVuZ2FkdWFuLiI7DQogICAgICAgICAgICB0aGlzLiRidlRvYXN0LnNob3coIm1lc3NhZ2UiKTsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImxvZ2luIiB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAgcGFnaW5hdGlvbiA6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgaWYodGhpcy5zZWFyY2ggPT0gIiIpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaGluZygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQoNCiAgICBBZGQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMuYWN0aW9uID0gImluc2VydCI7DQogICAgICB0aGlzLmlkX3BlbmdhZHVhbiA9ICIiOw0KICAgICAgdGhpcy50Z2xfcGVuZ2FkdWFuID0gIiI7DQogICAgICB0aGlzLmlzaV9sYXBvcmFuID0gIiI7DQogICAgICB0aGlzLmxva2FzaSA9ICIiOw0KICAgICAgdGhpcy5pZF9rYXRlZ29yaSA9ICIiOw0KICAgICAgdGhpcy5mb3RvID0gIiI7DQogICAgICB0aGlzLmdldEthdGVnb3JpRHJvcGRvd24oKTsNCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3RvIikudmFsdWUgPSBudWxsOw0KICAgIH0sDQogICAgIGdldEthdGVnb3JpRHJvcGRvd246IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgLy9hbWJpbCBkYXRhIGthdGVnb3JpIHVudHVrIGRyb3Bkb3duDQogICAgICAgICAgICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgIkF1dGhvcml6YXRpb24iIDogJ0JlYXJlciAnICsgdGhpcy50b2tlbiB9IH07DQogICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9ICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLnBlclBhZ2U7DQogICAgICAgICAgICAgICAgdGhpcy5heGlvcy5nZXQoIi9tYXN5YXJha2F0L2thdGVnb3JpLyIgKyB0aGlzLnBlclBhZ2UgKyAiLyIgKyBvZmZzZXQsIGNvbmYpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdF9rYXRlZ29yaSA9IFtdDQogICAgICAgICAgICAgICAgICAgIGxldCBqc29uX2thdGVnb3JpID0gcmVzcG9uc2UuZGF0YS5kYXRhLmthdGVnb3JpDQogICAgICAgICAgICAgICAgICAgIGpzb25fa2F0ZWdvcmkuZm9yRWFjaChlbGVtZW50ID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Rfa2F0ZWdvcmkucHVzaCh7dmFsdWU6IGVsZW1lbnQuaWRfa2F0ZWdvcmksIHRleHQ6IGVsZW1lbnQubmFtYV9rYXRlZ29yaX0pDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmthdGVnb3JpID0gbGlzdF9rYXRlZ29yaQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgDQogICAgICAvLyBTYXZlOiBmdW5jdGlvbigpew0KICAgICAgLy8gICBsZXQgY29uZiA9IHsgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0aGlzLnRva2VuIH0gfTsNCiAgICAgIC8vICAgdGhpcy4kYnZUb2FzdC5zaG93KCJsb2FkaW5nVG9hc3QiKTsNCiAgICAgIC8vICAgdGhpcy5hY3Rpb24gPT09ICJpbnNlcnQiOw0KICAgICAgLy8gICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgLy8gICBmb3JtLmFwcGVuZCgiaWRfcGVuZ2FkdWFuIiwgdGhpcy5pZF9wZW5nYWR1YW4pOw0KICAgICAgLy8gICBmb3JtLmFwcGVuZCgidGdsX3BlbmdhZHVhbiIsIHRoaXMudGdsX3BlbmdhZHVhbik7DQogICAgICAvLyAgIGZvcm0uYXBwZW5kKCJpc2lfbGFwb3JhbiIsIHRoaXMuaXNpX2xhcG9yYW4pOw0KICAgICAgLy8gICBmb3JtLmFwcGVuZCgibG9rYXNpIiwgdGhpcy5sb2thc2kpOw0KICAgICAgLy8gICBmb3JtLmFwcGVuZCgiZm90byIsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3RvIikuZmlsZXNbMF0pOw0KICAgICAgLy8gICBmb3JtLmFwcGVuZCgiaWRfa2F0ZWdvcmkiLCB0aGlzLmlkX2thdGVnb3JpKTsNCiAgICAgICAgDQogICAgICAvLyB0aGlzLmF4aW9zLnBvc3QoIi9tYXN5YXJha2F0L3BlbmdhZHVhbiIsIGZvcm0sIGNvbmYpDQogICAgICAvLyAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuZm90byk7DQogICAgICAvLyAgIGlmKCF0aGlzLmZvdG8pew0KICAgICAgLy8gICAgIHRoaXMuJGJ2VG9hc3QuaGlkZSgibG9hZGluZ1RvYXN0Iik7DQogICAgICAvLyAgICAgdGhpcy5tZXNzYWdlID0gIkZvdG8gQmVsdW0gRGl1bmdnYWgiOw0KICAgICAgLy8gICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygibWVzc2FnZSIpOw0KICAgICAgLy8gICB9IGVsc2Ugew0KICAgICAgLy8gICAgIHRoaXMuJGJ2VG9hc3QuaGlkZSgibG9hZGluZ1RvYXN0Iik7DQogICAgICAvLyAgICAgdGhpcy5tZXNzYWdlID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlOw0KICAgICAgLy8gICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygibWVzc2FnZSIpOw0KICAgICAgLy8gICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgLy8gICB9DQoNCiAgICAgIC8vIH0pDQogICAgICAvLyAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UpOw0KICAgICAgLy8gICB9KTsNCiAgICAgIC8vIH0sDQoNCiAgICBTYXZlOiBmdW5jdGlvbiAoKSB7DQogICAgICBsZXQgY29uZiA9IHsgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyB0aGlzLnRva2VuIH0gfTsNCiAgICAgIHRoaXMuJGJ2VG9hc3Quc2hvdygibG9hZGluZ1RvYXN0Iik7DQogICAgICB0aGlzLmFjdGlvbiA9PT0gImluc2VydCI7DQogICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZm9ybS5hcHBlbmQoImlkX3BlbmdhZHVhbiIsIHRoaXMuaWRfcGVuZ2FkdWFuKTsNCiAgICAgIGZvcm0uYXBwZW5kKCJ0Z2xfcGVuZ2FkdWFuIiwgdGhpcy50Z2xfcGVuZ2FkdWFuKTsNCiAgICAgIGZvcm0uYXBwZW5kKCJpc2lfbGFwb3JhbiIsIHRoaXMuaXNpX2xhcG9yYW4pOw0KICAgICAgZm9ybS5hcHBlbmQoImxva2FzaSIsIHRoaXMubG9rYXNpKTsNCiAgICAgIGZvcm0uYXBwZW5kKCJmb3RvIiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvdG8iKS5maWxlc1swXSk7DQogICAgICBmb3JtLmFwcGVuZCgiaWRfa2F0ZWdvcmkiLCB0aGlzLmlkX2thdGVnb3JpKTsNCg0KICAgICAgdGhpcy5heGlvcy5wb3N0KCIvbWFzeWFyYWthdC9wZW5nYWR1YW4iLCBmb3JtLCBjb25mKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICB0aGlzLiRidlRvYXN0LmhpZGUoImxvYWRpbmdUb2FzdCIpOw0KICAgICAgICAgIHRoaXMubWVzc2FnZSA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsNCiAgICAgICAgICB0aGlzLiRidlRvYXN0LnNob3coIm1lc3NhZ2UiKTsNCiAgICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yLnJlc3BvbnNlKTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIGdldEthdGVnb3JpKCkgew0KICAgICAgbGV0IGNvbmYgPSB7IGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgdGhpcy50b2tlbiB9IH07DQogICAgICB0aGlzLmF4aW9zLmdldCgna2F0ZWdvcmknLCBjb25mKS50aGVuKChyZXNwb25zZSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgdGhpcy5rYXRlZ29yaSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5rYXRlZ29yaQ0KICAgICAgfSkpDQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpew0KICAgICAgICAgICAgdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJBdXRob3JpemF0aW9uIik7DQogICAgICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgICAgfQ0KfTsNCg=="},{"version":3,"sources":["Pengaduan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pengaduan.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"container mt-3\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-12 grid-margin stretch-card\">\r\n          <div class=\"card\">\r\n            <div class=\"card-body\">\r\n              <p class=\"card-title float-left\"><b>Data Pengaduan</b></p>\r\n              <p class=\"card-description float-right\">\r\n                <b-button\r\n                  variant=\"dark\"\r\n                  v-b-modal.modalMasyarakat\r\n                  v-on:click=\"Add\"\r\n                  ><i class=\"mdi mdi-pen btn-icon-prepend\"></i> Input\r\n                  Pengaduan</b-button\r\n                >\r\n              </p>\r\n              <div class=\"table-responsive\">\r\n                <b-table striped hover :items=\"pengaduan\" :fields=\"fields\">\r\n                  <template v-slot:cell(status)=\"data\">\r\n                    <b-badge variant=\"info\" style=\"text-transform: uppercase;\">{{ data.item.status }}</b-badge>\r\n                  </template>\r\n                  <template v-slot:cell(kategori)=\"data\">\r\n                    <b-badge variant=\"warning\" style=\"text-transform: uppercase;\">{{ data.item.kategori.nama_kategori }}</b-badge>\r\n                  </template>\r\n                  <template v-slot:cell(tanggal)=\"data\">\r\n                    {{ data.item.tgl_pengaduan | format }}\r\n                  </template>\r\n                  <template v-slot:cell(tanggapan)=\"data\">\r\n                    {{\r\n                      data.item.tanggapan !== null\r\n                        ? data.item.tanggapan.tanggapan\r\n                        : null\r\n                    }}\r\n                  </template>\r\n                  <template v-slot:cell(status)=\"data\">\r\n                                <b-badge variant=\"info\" v-if=\"data.item.status === 'terkirim'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"warning\" v-if=\"data.item.status === 'proses'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"success\" v-if=\"data.item.status === 'selesai'\">{{ data.item.status }}</b-badge>\r\n                                <b-badge variant=\"danger\" v-if=\"data.item.status === 'tolak'\">{{ data.item.status }}</b-badge>\r\n                            </template>\r\n                  <template v-slot:cell(foto)=\"data\">\r\n                    <img\r\n                      style=\"width: 200px; height: 100px; border-radius: 5%\"\r\n                      :src=\"'http://localhost:8000/uploads/' + data.item.foto\"\r\n                    />\r\n                  </template>\r\n                </b-table>\r\n\r\n                <b-modal id=\"modalMasyarakat\" @ok=\"Save\">\r\n                  <template v-slot:modal-title> Form Masyarakat</template>\r\n                 \r\n                  <form ref=\"form\">\r\n          <div class=\"form-group\">\r\n            <div class=\"form-group\">\r\n              <label for=\"nama\" class=\"col-form-label\">Tanggal Pengaduan</label>\r\n              <input type=\"date\" name=\"tgl_pengaduan\" class=\"form-control\" id=\"tgl_pengaduan\" placeholder=\"Tgl Pengaduan\" v-model=\"tgl_pengaduan\">\r\n            </div>\r\n             <div class=\"form-group\">\r\n              <label for=\"nama\" class=\"col-form-label\">Isi Laporan</label>\r\n              <input type=\"text\" name=\"isi_laporan\" class=\"form-control\" id=\"isi_laporan\" placeholder=\"Isi Laporan\" v-model=\"isi_laporan\">\r\n            </div>\r\n             <div class=\"form-group\">\r\n              <label for=\"nama\" class=\"col-form-label\">Lokasi</label>\r\n              <input type=\"text\" name=\"lokasi\" class=\"form-control\" id=\"lokasi\" placeholder=\"lokasi\" v-model=\"lokasi\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n          <label for=\"id_kategori\" class=\"col-form-label\">Kategori</label>\r\n          <select class=\"form-control\" name=\"id_kategori\" id=\"id_kategori\" v-model=\"id_kategori\">\r\n            <option value=\"1\">Lalu Lintas / Jalan Raya</option>\r\n            <option value=\"2\">Fasilitas Umum</option>\r\n            <option value=\"4\">Kebersihan Lingkungan</option>\r\n          </select>\r\n        </div>\r\n             <div class=\"form-group\">\r\n              <label for=\"foto\" class=\"col-form-label\">Foto</label>\r\n              <input type=\"file\" name=\"foto\" class=\"form-control\" id=\"foto\" placeholder=\"Foto\">\r\n            </div>\r\n          </div>\r\n  \r\n        </form>\r\n                </b-modal>\r\n\r\n                <b-pagination\r\n                  v-model=\"currentPage\"\r\n                  :per-page=\"perPage\"\r\n                  :total-rows=\"rows\"\r\n                  align=\"center\"\r\n                  v-on:input=\"pagination\">\r\n                </b-pagination>\r\n\r\n                <b-toast id=\"loadingToast\" title=\"Processing Data\" no-auto-hide>\r\n                  <b-spinner label=\"Spinning\" variant=\"secondary\"></b-spinner>\r\n                  <strong class=\"text-secondary\"> Loading...</strong>\r\n                </b-toast>\r\n\r\n                <!-- toast untuk tampilan message box -->\r\n                <b-toast id=\"message\" title=\"Message\">\r\n                  <strong class=\"text-success\">{{ message }}</strong>\r\n                </b-toast>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nmodule.exports = {\r\n  data: function () {\r\n    return {\r\n      search: \"\",\r\n      id_pengaduan: \"\",\r\n      id_user: \"\",\r\n      nama: \"\",\r\n      tgl_pengaduan: \"\",\r\n      isi_laporan: \"\",\r\n      lokasi: \"\",\r\n      foto: \"\",\r\n      status: \"\",\r\n      tanggapan: \"\",\r\n      id_kategori: \"\",\r\n      action: \"\",\r\n      message: \"\",\r\n      currentPage: 1,\r\n      rows: 0,\r\n      perPage: 10,\r\n      token: \"\",\r\n      user: [],\r\n      pengaduan: [],\r\n      kategori: [],\r\n      fields: [\"tanggal\", \"isi_laporan\", \"kategori\", \"status\", \"lokasi\", \"foto\", \"tanggapan\"],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getData: function () {\r\n      let conf = { headers: \r\n      { Authorization: \"Bearer \" + this.token } };\r\n      let offset = (this.currentPage - 1) * this.perPage;\r\n      this.$bvToast.show(\"loadingToast\");\r\n      this.axios\r\n        .get(\"/masyarakat/pengaduan/\" + this.perPage + \"/\" + offset, conf)\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            this.$bvToast.hide(\"loadingToast\");\r\n            this.pengaduan = response.data.data.pengaduan;\r\n            this.tanggapan = response.data.data.pengaduan.tanggapan;\r\n            this.rows = response.data.data.count;\r\n          } else {\r\n            this.$bvToast.hide(\"loadingToast\");\r\n            this.message = \"Gagal menampilkan data Pengaduan.\";\r\n            this.$bvToast.show(\"message\");\r\n            this.$router.push({ name: \"login\" });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n\r\n     pagination : function(){\r\n                if(this.search == \"\"){\r\n                    this.getData();\r\n                } else {\r\n                    this.searching();\r\n                }\r\n            },\r\n\r\n    Add: function () {\r\n      this.action = \"insert\";\r\n      this.id_pengaduan = \"\";\r\n      this.tgl_pengaduan = \"\";\r\n      this.isi_laporan = \"\";\r\n      this.lokasi = \"\";\r\n      this.id_kategori = \"\";\r\n      this.foto = \"\";\r\n      this.getKategoriDropdown();\r\n      document.getElementById(\"foto\").value = null;\r\n    },\r\n     getKategoriDropdown: function(){\r\n                //ambil data kategori untuk dropdown\r\n                let conf = { headers: { \"Authorization\" : 'Bearer ' + this.token } };\r\n                let offset = (this.currentPage - 1) * this.perPage;\r\n                this.axios.get(\"/masyarakat/kategori/\" + this.perPage + \"/\" + offset, conf)\r\n                .then(response => {\r\n                    let list_kategori = []\r\n                    let json_kategori = response.data.data.kategori\r\n                    json_kategori.forEach(element => {\r\n                        list_kategori.push({value: element.id_kategori, text: element.nama_kategori})\r\n                    });\r\n                    this.kategori = list_kategori\r\n                })\r\n            },\r\n            \r\n      // Save: function(){\r\n      //   let conf = { headers: { Authorization: \"Bearer \" + this.token } };\r\n      //   this.$bvToast.show(\"loadingToast\");\r\n      //   this.action === \"insert\";\r\n      //   let form = new FormData();\r\n      //   form.append(\"id_pengaduan\", this.id_pengaduan);\r\n      //   form.append(\"tgl_pengaduan\", this.tgl_pengaduan);\r\n      //   form.append(\"isi_laporan\", this.isi_laporan);\r\n      //   form.append(\"lokasi\", this.lokasi);\r\n      //   form.append(\"foto\", document.getElementById(\"foto\").files[0]);\r\n      //   form.append(\"id_kategori\", this.id_kategori);\r\n        \r\n      // this.axios.post(\"/masyarakat/pengaduan\", form, conf)\r\n      // .then(response => {\r\n      //   console.log(this.foto);\r\n      //   if(!this.foto){\r\n      //     this.$bvToast.hide(\"loadingToast\");\r\n      //     this.message = \"Foto Belum Diunggah\";\r\n      //     this.$bvToast.show(\"message\");\r\n      //   } else {\r\n      //     this.$bvToast.hide(\"loadingToast\");\r\n      //     this.message = response.data.message;\r\n      //     this.$bvToast.show(\"message\");\r\n      //     this.getData();\r\n      //   }\r\n\r\n      // })\r\n      // .catch((error) => {\r\n      //     console.log(error.response);\r\n      //   });\r\n      // },\r\n\r\n    Save: function () {\r\n      let conf = { headers: { Authorization: \"Bearer \" + this.token } };\r\n      this.$bvToast.show(\"loadingToast\");\r\n      this.action === \"insert\";\r\n      let form = new FormData();\r\n      form.append(\"id_pengaduan\", this.id_pengaduan);\r\n      form.append(\"tgl_pengaduan\", this.tgl_pengaduan);\r\n      form.append(\"isi_laporan\", this.isi_laporan);\r\n      form.append(\"lokasi\", this.lokasi);\r\n      form.append(\"foto\", document.getElementById(\"foto\").files[0]);\r\n      form.append(\"id_kategori\", this.id_kategori);\r\n\r\n      this.axios.post(\"/masyarakat/pengaduan\", form, conf)\r\n        .then((response) => {\r\n          this.$bvToast.hide(\"loadingToast\");\r\n          this.message = response.data.message;\r\n          this.$bvToast.show(\"message\");\r\n          this.getData();\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response);\r\n        });\r\n    },\r\n\r\n    getKategori() {\r\n      let conf = { headers: { Authorization: \"Bearer \" + this.token } };\r\n      this.axios.get('kategori', conf).then((response => {\r\n        console.log(response);\r\n        this.kategori = response.data.data.kategori\r\n      }))\r\n    },\r\n  },\r\n  mounted(){\r\n            this.token = localStorage.getItem(\"Authorization\");\r\n            this.getData();\r\n        }\r\n};\r\n</script>"]}]}